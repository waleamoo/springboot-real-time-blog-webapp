<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<div th:replace="~{common :: myheader}"></div>
		<title>Post | Home</title>
	</head>

	<body>
		<div th:replace="~{common :: myadminnav}"></div>

		<br /><br />

		<div class="container">
			<div class="row mt-4 mb-4">
				<div class="col-lg-12">
					<div class="row my-4">
						<h1>Welcome to Wale's Blog</h1>
					</div>

					<div class="row my-4 mx-auto">
						<div class="row">
							<div class="col-md-5">
								<form th:action="@{/admin/posts/search}" class="form-inline">
									<div class="form-group">
										<input
											type="text"
											class="form-control"
											name="query"
											id="query"
										/>
										<span class="input-group-btn">
											<button class="btn btn-primary" type="submit">
												Search
											</button>
										</span>
									</div>
								</form>
							</div>
						</div>

						<br /><br />

						<table class="table table-striped table-hover table-bordered">
							<thead class="table-dark">
								<th style="width: 10%">#</th>
								<th style="width: 20%">Post Title</th>
								<th style="width: 30%">Post Short Description</th>
								<th style="width: 20%">Post Created On</th>
								<th style="width: 20%">Actions</th>
							</thead>
							<tbody>
								<tr th:each="post, postStat : ${posts}">
									<td th:text="${postStat.count}">1</td>
									<td th:text="${post.title}">post title</td>
									<td th:text="${post.shortDescription}">
										post short description
									</td>
									<td
										th:text="${#temporals.format(post.createdOn, 'dd MMM yyyy')}"
									>
										post created date
									</td>
									<td>
										<a
											th:href="@{/admin/posts/{postId}/edit(postId=${post.id})}"
											class="btn btn-primary"
											>Edit</a
										>
										<a
											th:href="@{/admin/posts/{postId}/delete(postId=${post.id})}"
											class="btn btn-danger"
											>Delete</a
										>
										<a
											th:href="@{/admin/posts/{postUrl}/view(postUrl=${post.url})}"
											class="btn btn-info"
											>View</a
										>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div th:insert="~{common :: myfooter}"></div>
	</body>
</html>
